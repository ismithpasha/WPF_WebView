"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[851],{8851:(M,g,a)=>{a.r(g),a.d(g,{AccountModule:()=>S});var c=a(6019),o=a(6225),u=a(3668);const h=[{path:"auth",loadChildren:()=>Promise.resolve().then(a.bind(a,6642)).then(e=>e.AuthModule)}];let b=(()=>{class e{}return e.\u0275fac=function(f){return new(f||e)},e.\u0275mod=u.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=u.\u0275\u0275defineInjector({imports:[[o.Bz.forChild(h)],o.Bz]}),e})();var l=a(6642);let S=(()=>{class e{}return e.\u0275fac=function(f){return new(f||e)},e.\u0275mod=u.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=u.\u0275\u0275defineInjector({imports:[[c.CommonModule,b,l.AuthModule]]}),e})()},6642:(M,g,a)=>{a.r(g),a.d(g,{AuthModule:()=>K});var c=a(6019),o=a(9133),u=a(549),h=a(3218),b=a(3091),l=a(6225),S=a(739),e=a(3668),v=a(7683),f=a(2464);function P(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"ngb-alert",32),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.error)}}function F(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Merchant Number required"),e.\u0275\u0275elementEnd())}function _(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Murchant must be a valid Mobile Number"),e.\u0275\u0275elementEnd())}function N(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,F,2,0,"div",34),e.\u0275\u0275template(2,_,2,0,"div",34),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.merchantnumber.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.merchantnumber.errors.email)}}function A(t,i){1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"PIN is required"),e.\u0275\u0275elementEnd())}function T(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,A,2,0,"span",34),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.pin.errors.required)}}const y=function(t){return{"is-invalid":t}};let k=(()=>{class t{constructor(n,r,s,d,p){this.formBuilder=n,this.route=r,this.router=s,this.encryptionService=d,this.authFackservice=p,this.submitted=!1,this.error="",this.year=(new Date).getFullYear(),this.carouselOption={items:1,loop:!1,margin:0,nav:!1,dots:!0,responsive:{680:{items:1}}}}ngOnInit(){this.loginForm=this.formBuilder.group({merchantnumber:["",[o.kI.required]],pin:["",[o.kI.required]]})}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&this.authFackservice.login(this.f.merchantnumber.value,this.f.pin.value).pipe((0,S.P)()).subscribe({next:n=>{n.isSuccess?this.router.navigate(["/dashboard"]):this.error=n.reason},error:n=>{console.error(n),this.error=n||""},complete:()=>{}})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(l.gz),e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(v.C),e.\u0275\u0275directiveInject(f.g))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-login"]],decls:48,vars:12,consts:[[1,"container-fluid","p-0"],[1,"row","g-0"],[1,"col-xl-6","bg-white"],[1,"col-lg-7","float-end","mt-5","me-5"],["src","assets/images/tadl/cash-payment-grafiki.png","alt","merchant grafitiy image",1,"img-fluid","float-end"],[1,"mt-5"],[1,"fs-2","fw-bold","discover-color","text-center"],[1,"col-xl-6","login-bg"],[1,"auth-full-page-content","p-md-5","p-4"],[1,"w-100"],[1,"d-flex","flex-column","h-100"],[1,"mb-4","mb-md-5"],[1,"d-inline","p-2"],["routerLink","/"],["src","assets/images/tadl/tap-merchant.png","alt","","height","50",1,"auth-logo-dark"],[1,"d-inline","p-2","fw-bold","discover-color","fs-6"],[1,"my-auto"],[1,"discover-color"],[1,"mt-4"],[1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"mb-3"],["for","merchantnumber"],["type","text","formControlName","merchantnumber","id","merchantnumber","placeholder","Enter Merchant Number",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","pin"],[1,"input-group","auth-pass-inputgroup"],["type","password","formControlName","pin","placeholder","Enter Password","aria-label","PIN","aria-describedby","password-addon",1,"form-control",3,"ngClass"],["x",""],["type","button","id","password-addon",1,"btn","btn-light","ms-0","eye-border",3,"click"],[1,"mt-3","d-grid"],["type","submit",1,"btn","signin-btn-bg","text-white"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){if(1&n){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div"),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275element(6,"img",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275elementStart(8,"p"),e.\u0275\u0275text(9,"\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"h5",6),e.\u0275\u0275text(11,"Discover Endless Opportunities"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",7),e.\u0275\u0275elementStart(13,"div",8),e.\u0275\u0275elementStart(14,"div",9),e.\u0275\u0275elementStart(15,"div",10),e.\u0275\u0275elementStart(16,"div",11),e.\u0275\u0275elementStart(17,"div",12),e.\u0275\u0275elementStart(18,"a",13),e.\u0275\u0275element(19,"img",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",15),e.\u0275\u0275text(21,"tap Merchant Portal"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",16),e.\u0275\u0275elementStart(23,"div"),e.\u0275\u0275elementStart(24,"h5",17),e.\u0275\u0275text(25,"Welcome!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"p",17),e.\u0275\u0275text(27,"Sign in to Merchant Account"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",18),e.\u0275\u0275elementStart(29,"form",19),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275template(30,P,2,2,"ngb-alert",20),e.\u0275\u0275elementStart(31,"div",21),e.\u0275\u0275elementStart(32,"label",22),e.\u0275\u0275text(33,"Merchant Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",23),e.\u0275\u0275template(35,N,3,2,"div",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",21),e.\u0275\u0275elementStart(37,"label",25),e.\u0275\u0275text(38,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",26),e.\u0275\u0275element(40,"input",27,28),e.\u0275\u0275elementStart(42,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const p=e.\u0275\u0275reference(41);return p.type="password"==p.type?"text":"password"}),e.\u0275\u0275element(43,"i"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,T,2,1,"div",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"div",30),e.\u0275\u0275elementStart(46,"button",31),e.\u0275\u0275text(47,"Sign In"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const s=e.\u0275\u0275reference(41);e.\u0275\u0275advance(29),e.\u0275\u0275property("formGroup",r.loginForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.error),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(8,y,r.submitted&&r.f.merchantnumber.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.merchantnumber.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(10,y,r.submitted&&r.f.pin.errors)),e.\u0275\u0275advance(3),e.\u0275\u0275classMap("password"!=s.type?"fas fa-eye":"fas fa-eye-slash"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.pin.errors)}},directives:[l.yS,o._Y,o.JL,o.sg,c.NgIf,o.Fj,o.JJ,o.u,c.NgClass,u.xm],styles:[".login-bg[_ngcontent-%COMP%]{background-color:#ecf9f1}.discover-color[_ngcontent-%COMP%]{color:#006e2d}.signin-btn-bg[_ngcontent-%COMP%]{background-color:#00b446}.eye-border[_ngcontent-%COMP%]{border:1px solid #ced4da}"]}),t})();var E=a(8260),L=a(1659),m=a.n(L),C=a(2566);function j(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"ngb-alert",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.error)}}function O(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275elementStart(1,"span",31),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",32),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3("",n.merchantinfo.firstName," ",n.merchantinfo.middleName," ",n.merchantinfo.lastName,","),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.merchantinfo.mailingAddress1,"")}}function B(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Merchant wallet number is required"),e.\u0275\u0275elementEnd())}function R(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275template(1,B,2,0,"div",22),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.walletnumber.errors.required)}}function D(t,i){1&t&&(e.\u0275\u0275elementStart(0,"button",34),e.\u0275\u0275text(1,"Register"),e.\u0275\u0275elementEnd())}const J=function(t){return{"is-invalid":t}};let x=(()=>{class t{constructor(n,r,s,d,p){this.formBuilder=n,this.route=r,this.router=s,this.defaultservice=d,this.authFackservice=p,this.submitted=!1,this.error="",this.success="",this.loading=!1,this.showmerchantinfo=!1,this.year=(new Date).getFullYear()}ngOnInit(){this.resetForm=this.formBuilder.group({walletnumber:["",[o.kI.required,o.kI.pattern("^(01[3-9]\\d{8})$")]]})}ngAfterViewInit(){}get f(){return this.resetForm.controls}onSubmit(){this.error=null,this.success="",this.submitted=!0,this.resetForm.invalid||this.defaultservice.register({userName:this.f.walletnumber.value,firstName:this.merchantinfo.firstName,middleName:this.merchantinfo.middleName,lastName:this.merchantinfo.lastName,mailingAddress1:this.merchantinfo.mailingAddress1}).subscribe(s=>{s.isSuccess?(this.merchantinfo=void 0,this.showmerchantinfo=!1,this.submitted=!1,this.resetForm=this.formBuilder.group({walletnumber:["",[o.kI.required,o.kI.pattern("^(01[3-9]\\d{8})$")]]}),this.successmsg("Successfully Registered!"),this.timer()):this.error=s.reason})}logout(){"firebase"===E.N.defaultauth||this.authFackservice.logout(),this.router.navigate(["/account/login"])}timer(){let n;m().fire({title:"Successful",html:"Merchant registration successful",timer:3e3,didOpen:()=>{m().showLoading(),n=setInterval(()=>{const r=m().getHtmlContainer();if(r){const s=r.querySelector("b");s&&(s.textContent=m().getTimerLeft()+"")}},100)},willClose:()=>{clearInterval(n)}}).then(r=>{r.dismiss===m().DismissReason.timer&&console.log("I was closed by the timer")})}successmsg(n){m().fire("Congratulations!",n,"success")}errorssmsg(n){m().fire("Ops!",n,"error")}merchantDetails(){this.defaultservice.getMerchantData("88"+this.f.walletnumber.value).subscribe(r=>{r.isSuccess?(this.merchantinfo=r.data,this.showmerchantinfo=!0,console.log("merchantinfo",this.merchantinfo)):(this.error=r.reason,this.errorssmsg(r.reason))})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(l.gz),e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(C.T),e.\u0275\u0275directiveInject(f.g))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-signup"]],decls:41,vars:9,consts:[[1,"account-pages","my-5","pt-sm-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-tap","bg-soft","bg-primary"],[1,"row"],[1,"col-7"],[1,"text-primary","p-4"],[1,"tap-color"],[1,"col-5","align-self-end"],["src","assets/images/profile-img.png","alt","",1,"img-fluid"],[1,"card-body","pt-0"],["routerLink","/"],[1,"avatar-md","profile-user-wid","mb-4"],[1,"avatar-title","rounded-circle","bg-light"],["src","assets/images/tadl/tap-merchant.png","alt","","height","34",1,"rounded-circle"],["name","resetForm","novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"mb-3"],["for","walletnumber"],["type","text","formControlName","walletnumber","id","walletnumber","placeholder","Merchant Wallet Number",1,"form-control",3,"ngClass"],[4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"text-center"],["type","button",1,"mr_3","btn","btn-bg","btn-primary","w-md",3,"click"],["class","btn btn-bg btn-primary w-md","type","submit",4,"ngIf"],[1,"mt-5","text-center"],["routerLink","/",1,"pointer","fw-medium","text-primary"],["routerLink","/merchants/merchants",1,"pointer","fw-medium","text-primary"],["type","danger",3,"dismissible"],[1,"fw-bold","text-success"],[1,"fw-bold","f-italic","text-info"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-bg","btn-primary","w-md"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275elementStart(9,"h5",9),e.\u0275\u0275text(10," Register Merchant"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"img",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",12),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275elementStart(15,"a",13),e.\u0275\u0275elementStart(16,"div",14),e.\u0275\u0275elementStart(17,"span",15),e.\u0275\u0275element(18,"img",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"form",17),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275template(20,j,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(21,"div",19),e.\u0275\u0275elementStart(22,"label",20),e.\u0275\u0275text(23,"Merchant Wallet Number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",21),e.\u0275\u0275template(25,O,5,4,"p",22),e.\u0275\u0275template(26,R,2,1,"div",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",24),e.\u0275\u0275elementStart(28,"button",25),e.\u0275\u0275listener("click",function(){return r.merchantDetails()}),e.\u0275\u0275text(29,"Merchant Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30," \xa0 "),e.\u0275\u0275template(31,D,2,0,"button",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"div",27),e.\u0275\u0275elementStart(33,"p"),e.\u0275\u0275elementStart(34,"a",28),e.\u0275\u0275text(35,"Go Back dashboard"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(36," \xa0 "),e.\u0275\u0275elementStart(37,"a",29),e.\u0275\u0275text(38,"Merchant List"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"p"),e.\u0275\u0275text(40),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(19),e.\u0275\u0275property("formGroup",r.resetForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.error),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,J,r.submitted&&r.f.walletnumber.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.showmerchantinfo),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.walletnumber.errors),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",r.showmerchantinfo),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1("\xa9 ",r.year," TADL "))},directives:[l.yS,o._Y,o.JL,o.sg,c.NgIf,o.Fj,o.JJ,o.u,c.NgClass,u.xm],styles:[".bg-tap[_ngcontent-%COMP%]{background-color:#ecf9f1!important}.tap-color[_ngcontent-%COMP%]{color:#006e2d}.btn-bg[_ngcontent-%COMP%]{background-color:#00b446}mr_3[_ngcontent-%COMP%]{margin-right:3px}.f-italic[_ngcontent-%COMP%]{font-style:italic}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function z(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"ngb-alert",31),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dismissible",!1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.error)}}function G(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Current Password is required"),e.\u0275\u0275elementEnd())}function Y(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275template(1,G,2,0,"div",33),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.curpass.errors.required)}}function H(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"New Password is required"),e.\u0275\u0275elementEnd())}function V(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275template(1,H,2,0,"div",33),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.newpass.errors.required)}}function W(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"Retype Password is required"),e.\u0275\u0275elementEnd())}function q(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275template(1,W,2,0,"div",33),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.f.newpass2.errors.required)}}const w=function(t){return{"is-invalid":t}};let U=(()=>{class t{constructor(n,r,s,d,p){this.formBuilder=n,this.route=r,this.router=s,this.defaultservice=d,this.authFackservice=p,this.submitted=!1,this.error="",this.success="",this.loading=!1,this.year=(new Date).getFullYear()}ngOnInit(){this.resetForm=this.formBuilder.group({curpass:["",[o.kI.required]],newpass:["",[o.kI.required]],newpass2:["",[o.kI.required]]})}checkLoggedIn(n){var r;n.storageArea==localStorage&&(null!==(r=localStorage.getItem("currentUser"))&&void 0!==r||this.authFackservice.logout())}ngAfterViewInit(){}get f(){return this.resetForm.controls}onSubmit(){if(this.error=null,this.success="",this.submitted=!0,this.resetForm.invalid)return;const n=this.f.curpass.value,r=this.f.newpass.value;n!==r?r===this.f.newpass2.value?this.defaultservice.changepassword(n,r).subscribe(d=>{d.isSuccess?(this.timer(),this.logout()):this.error=d.reason}):this.error="New password and Retype new password should be same":this.error="Current password is not acceptable as new password"}timer(){let n;m().fire({title:"Password Change Successfull",html:"Your password changed successfully, please login with new password",timer:3e3,didOpen:()=>{m().showLoading(),n=setInterval(()=>{const r=m().getHtmlContainer();if(r){const s=r.querySelector("b");s&&(s.textContent=m().getTimerLeft()+"")}},100)},willClose:()=>{clearInterval(n)}}).then(r=>{r.dismiss===m().DismissReason.timer&&console.log("I was closed by the timer")})}logout(){"firebase"===E.N.defaultauth||this.authFackservice.logout(),this.router.navigate(["/account/login"])}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(l.gz),e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(C.T),e.\u0275\u0275directiveInject(f.g))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-passwordreset"]],hostBindings:function(n,r){1&n&&e.\u0275\u0275listener("storage",function(d){return r.checkLoggedIn(d)},!1,e.\u0275\u0275resolveWindow)},decls:45,vars:15,consts:[[1,"account-pages","my-5","pt-sm-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","overflow-hidden"],[1,"bg-tap","bg-soft","bg-primary"],[1,"row"],[1,"col-7"],[1,"text-primary","p-4"],[1,"tap-color"],[1,"col-5","align-self-end"],["src","assets/images/profile-img.png","alt","",1,"img-fluid"],[1,"card-body","pt-0"],["routerLink","/"],[1,"avatar-md","profile-user-wid","mb-4"],[1,"avatar-title","rounded-circle","bg-light"],["src","assets/images/tadl/tap-merchant.png","alt","","height","34",1,"rounded-circle"],["name","resetForm","novalidate","",1,"needs-validation",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"mb-3"],["for","curpass"],["type","password","formControlName","curpass","id","curpass","placeholder","Current Password",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","newpass"],["type","password","formControlName","newpass","id","newpass","placeholder","New Password",1,"form-control",3,"ngClass"],["for","newpass2"],["type","password","formControlName","newpass2","id","newpass2","placeholder","Retype New Password",1,"form-control",3,"ngClass"],[1,"text-center"],["type","submit",1,"btn","btn-bg","btn-primary","w-md"],[1,"mt-5","text-center"],["routerLink","/",1,"fw-medium","text-primary"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275elementStart(9,"h5",9),e.\u0275\u0275text(10," Change Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",10),e.\u0275\u0275element(12,"img",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",12),e.\u0275\u0275elementStart(14,"div"),e.\u0275\u0275elementStart(15,"a",13),e.\u0275\u0275elementStart(16,"div",14),e.\u0275\u0275elementStart(17,"span",15),e.\u0275\u0275element(18,"img",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"form",17),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275template(20,z,2,2,"ngb-alert",18),e.\u0275\u0275elementStart(21,"div",19),e.\u0275\u0275elementStart(22,"label",20),e.\u0275\u0275text(23,"Current Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",21),e.\u0275\u0275template(25,Y,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"div",19),e.\u0275\u0275elementStart(27,"label",23),e.\u0275\u0275text(28,"New Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"input",24),e.\u0275\u0275template(30,V,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",19),e.\u0275\u0275elementStart(32,"label",25),e.\u0275\u0275text(33,"Retype New Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"input",26),e.\u0275\u0275template(35,q,2,1,"div",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",27),e.\u0275\u0275elementStart(37,"button",28),e.\u0275\u0275text(38,"Change Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",29),e.\u0275\u0275elementStart(40,"p"),e.\u0275\u0275elementStart(41,"a",30),e.\u0275\u0275text(42,"Go Back dashboard"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"p"),e.\u0275\u0275text(44),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(19),e.\u0275\u0275property("formGroup",r.resetForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.error),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,w,r.submitted&&r.f.curpass.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.curpass.errors),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,w,r.submitted&&r.f.newpass.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.newpass.errors),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,w,r.submitted&&r.f.newpass2.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.submitted&&r.f.newpass2.errors),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1("\xa9 ",r.year," TADL "))},directives:[l.yS,o._Y,o.JL,o.sg,c.NgIf,o.Fj,o.JJ,o.u,c.NgClass,u.xm],styles:[".bg-tap[_ngcontent-%COMP%]{background-color:#ecf9f1!important}.tap-color[_ngcontent-%COMP%]{color:#006e2d}.btn-bg[_ngcontent-%COMP%]{background-color:#00b446}"]}),t})();var I=a(5298);const $=[{path:"login",component:k},{path:"signup",component:x},{path:"register",component:x,canActivate:[I.a]},{path:"change-password",component:U,canActivate:[I.a]}];let X=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[l.Bz.forChild($)],l.Bz]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.CommonModule,o.UX,o.u5,u._A,b.v,X,h.bB]]}),t})()}}]);